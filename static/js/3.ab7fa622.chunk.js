(this["webpackJsonpreact-task"]=this["webpackJsonpreact-task"]||[]).push([[3],{80:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(3),a=n(7),o=n(20),r=n.n(o),c=function(){return function(e){e({type:a.d}),r.a.get("/bookings.json").then((function(t){console.log(t);var n=Object.keys(t.data).map((function(e){return Object(i.a)(Object(i.a)({},t.data[e]),{},{bookId:e})}));e(function(e){return{type:a.e,bookings:e}}(n))})).catch((function(t){return e({type:a.c})}))}},l=function(e){return function(t){r.a.post("/bookings.json",e).then((function(n){t(function(e){return console.log(e,"createBookingSuccess"),{type:a.b,data:e}}(Object(i.a)(Object(i.a)({},e),{},{bookId:n.data.name})))})).catch((function(e){return console.log(e)}))}},u=function(){return{type:a.a}}},81:function(e,t,n){e.exports={Card:"Booking_Card__3VrMW",Title:"Booking_Title__WAy5V",Info:"Booking_Info__8IOcB"}},82:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},83:function(e,t,n){e.exports={UserBooking:"UserBooking_UserBooking___qgVk"}},88:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(4),r=n(81),c=n.n(r),l=n(15),u=n(3),s=n(16),d=n(17),f=n(19),m=n(18),b=n(82),h=n.n(b),p=n(1),j=function(e){var t=[h.a.InputElement];return e.invalid&&e.shouldValidate&&e.isTouched&&t.push(h.a.Invalid),Object(p.jsxs)("div",{className:h.a,children:[Object(p.jsx)("label",{className:h.a.Label,children:e.children}),Object(p.jsx)("input",Object(u.a)(Object(u.a)({className:t.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))]})},v=n(83),g=n.n(v),O=n(80),k=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={formFields:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"text",placeholder:"Email"},value:"",validation:{required:!0},valid:!1,touched:!1},mobile:{elementType:"input",elementConfig:{type:"text",placeholder:"Mobile"},value:"",validation:{required:!0,minLength:10,maxLength:10},valid:!1,touched:!1}},formValid:!1},e.formSubmitHandler=function(t){t.preventDefault(),console.log("form submitted",e.props.webinarId);var n={};for(var i in e.state.formFields)n[i]=e.state.formFields[i].value;n.webinar=e.props.webinarData,console.log(n),e.props.onCreateBooking(n)},e.formValidation=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n},e.inputValueHandler=function(t,n){var i=Object(u.a)({},e.state.formFields),a=Object(u.a)({},i[n]);a.value=t.target.value,a.valid=e.formValidation(a.value,a.validation),a.touched=!0,i[n]=a;var o=!0;for(var r in i)if(!(o=i[r].valid&&o))break;e.setState({formFields:i,formValid:o})},e}return Object(d.a)(n,[{key:"componentWillMount",value:function(){this.props.onInitBooking()}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.formFields).map((function(t){return Object(p.jsx)(j,{elementConfig:e.state.formFields[t].elementConfig,value:e.state.formFields[t].value,invalid:!e.state.formFields[t].valid,shouldValidate:e.state.formFields[t].validation,isTouched:e.state.formFields[t].touched,changed:function(n){return e.inputValueHandler(n,t)}},t)}));return Object(p.jsxs)("div",{className:g.a.UserBooking,children:[this.props.booked?Object(p.jsx)(o.a,{to:"/"}):null,Object(p.jsxs)("form",{onSubmit:this.formSubmitHandler,children:[t,Object(p.jsx)("button",{disabled:!this.state.formValid,onClick:this.formSubmitHandler,children:"Submit"})]})]})}}]),n}(i.Component),x=Object(l.b)((function(e){return{booked:e.booked}}),(function(e){return{onCreateBooking:function(t){return e(O.a(t))},onInitBooking:function(){return e(O.b())}}}))(k);t.default=Object(l.b)((function(e){return{free:e.free,premium:e.premium}}))(Object(o.g)((function(e){var t=Object(p.jsx)(o.a,{to:"/"});if(0!==e.free.length&&0!==e.premium.length){var n=e.free.concat(e.premium).find((function(t){return t.id===e.match.params.webId}));t=Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("div",{className:c.a.Card,children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:c.a.Title,children:n.title}),Object(p.jsxs)("div",{className:c.a.Info,children:[Object(p.jsx)("div",{children:" March 30, 2021"}),Object(p.jsx)("div",{children:" 5 p.m."}),Object(p.jsx)("div",{children:n.instructor})]}),Object(p.jsx)("button",{onClick:function(){return e.history.replace(e.match.url+"/booking")},children:"Book Your Seat"})]})}),Object(p.jsx)(o.b,{path:e.match.url+"/booking",exact:!0,render:function(){return Object(p.jsx)(x,{webinarData:n})}})]})}return t})))}}]);
//# sourceMappingURL=3.ab7fa622.chunk.js.map